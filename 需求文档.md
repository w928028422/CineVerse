# 电影资讯网站需求文档

## 1. 项目概述

### 1.1. 项目名称

CineVerse

### 1.2. 项目简介

本项目是一个基于Vue 3的现代化单页面应用（SPA），为用户提供浏览最新、最热门电影信息，搜索特定电影，查看详细资料及演职员信息的功能。

### 1.3. 技术栈

- **前端框架**: Vue 3 (组合式API)
- **状态管理**: Pinia
- **路由**: Vue Router
- **构建工具**: Vite
- **HTTP客户端**: Axios
- **UI框架**: Element Plus
- **API数据源**: The Movie Database (TMDB) API
- **部署**: GitHub Pages

### 1.4. 目标用户

- 电影爱好者
- 想找电影看但不知道看什么的普通用户
- 希望了解电影详细信息的影迷

## 2. 功能需求

### 2.1. 核心功能

#### F-01: 电影列表浏览

- **描述**： 用户可以在首页看到多个电影列表。
- **子功能**：
  - F-01.1: 显示“正在热映”的电影列表。
  - F-01.2: 显示“最受欢迎”的电影列表。
  - F-01.3: 显示“高分好评”的电影列表。
- **要求**： 列表应支持横向滚动或分页展示。

#### F-02: 电影搜索

- **描述**： 用户可以通过搜索框查找电影。
- **要求**：
  - 搜索框应位于页面显眼位置（如顶部）。
  - 输入时提供实时搜索建议（防抖处理）。
  - 搜索结果页面显示匹配的电影海报网格列表。

#### F-03: 电影详情查看

- **描述**： 用户点击任何电影卡片后，可跳转到该电影的详情页。
- **要求**： 详情页应包含：
  - 电影海报、标题、评分、上映日期、时长、简介。
  - 演职员列表（导演、主要演员）。
  - 类型标签。

#### F-04: 响应式布局

- **描述**： 网站在手机、平板、桌面设备上均能正常显示和交互。

### 2.2. 高级功能 (可选，用于挑战)

#### F-05: 电影分类浏览

- **描述**： 用户可以通过侧边栏或导航栏按类型（如动作、喜剧、科幻）筛选电影。

#### F-06: 分页功能

- **描述**： 对于电影列表，实现分页加载，而不是无限滚动。

#### F-07: 收藏功能

- **描述**： 用户可以将电影加入“我的收藏”。
- **要求**：
  - 使用`localStorage`在浏览器端存储收藏状态。
  - 提供单独的页面查看所有收藏的电影。

#### F-08: 主题切换

- **描述**： 用户可以在亮色/暗色主题之间切换。
- **要求**： 使用CSS Variables实现，并持久化用户的选择。

## 3. 页面与组件设计

### 3.1. 页面路由

| 路径         | 组件                  | 描述                      |
| :----------- | :-------------------- | :------------------------ |
| `/`          | `HomeView.vue`        | 首页，展示多个电影列表    |
| `/movie/:id` | `MovieDetailView.vue` | 电影详情页，`:id`为电影ID |
| `/search`    | `SearchView.vue`      | 搜索结果页                |
| `/favorites` | `FavoritesView.vue`   | 我的收藏页 (高级功能)     |

### 3.2. 核心组件树

text

```
App
├── AppNavbar (导航栏，包含搜索框)
├── RouterView
│   ├── HomeView
│   │   ├── MovieList (复用组件)
│   │   │   └── MovieCard (复用组件)
│   │   └── MovieList (热门)
│   │   └── MovieList (高分)
│   ├── MovieDetailView
│   │   ├── MovieHero (详情头部海报和信息)
│   │   └── CastList (演职员列表)
│   └── SearchView
│       └── MovieGrid (复用组件)
│           └── MovieCard (复用组件)
└── AppFooter (页脚)
```

## 4. 状态管理 (Pinia Store 设计)

建议创建以下Store：

### `useMovieStore`

- `state`:
  - `movies: { nowPlaying: [], popular: [], ... }` (缓存各类别电影)
  - `searchResults: []` (搜索结果)
  - `favorites: []` (收藏列表)
- `actions`:
  - `fetchMovies(type)`： 获取特定类型的电影列表。
  - `searchMovies(query)`： 搜索电影。
  - `fetchMovieDetail(id)`： 获取电影详情。
  - `toggleFavorite(movie)`： 添加/移除收藏。
- `getters`:
  - `isFavorite: (state) => (id) => ...`： 判断某电影是否被收藏。

## 5. API接口规划 (基于TMDB API)

| 功能           | API端点                                        | 方法 |
| :------------- | :--------------------------------------------- | :--- |
| 获取正在热映   | `/movie/now_playing`                           | GET  |
| 获取热门电影   | `/movie/popular`                               | GET  |
| 获取高分电影   | `/movie/top_rated`                             | GET  |
| 搜索电影       | `/search/movie?query={query}`                  | GET  |
| 获取电影详情   | `/movie/{movie_id}`                            | GET  |
| 获取电影演职员 | `/movie/{movie_id}/credits`                    | GET  |
| 获取图片       | `https://image.tmdb.org/t/p/w500/{image_path}` | GET  |

## 6. 非功能性需求

- **性能**： 图片应使用懒加载（`v-lazy`或原生`loading="lazy"`）。
- **用户体验**： 数据加载时应显示骨架屏或加载动画。
- **错误处理**： 网络请求失败或电影详情不存在时，应给予用户友好提示。
